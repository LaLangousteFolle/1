{"name":"Résurrection suprême","type":"script","author":"262dkCGquRjpWpmj","img":"systems/dnd5e/icons/spells/heal-sky-3.jpg","scope":"global","command":"// HotbarUses5e: ActorID=\"4O6EBccW1DXHjmy8\" ItemID=\"G0CX3GY6gDPAiIrS\"\nconst actorId = \"4O6EBccW1DXHjmy8\";\nconst itemId = \"G0CX3GY6gDPAiIrS\";\nconst actorToRoll = canvas.tokens.placeables.find(t => t.actor?.id === actorId)?.actor ?? game.actors.get(actorId);\nconst itemToRoll = actorToRoll?.items.get(itemId);\n\nif (game.modules.get('itemacro')?.active && itemToRoll?.hasMacro() && game.settings.get('itemacro', 'defaultmacro')) {\n\treturn itemToRoll.executeMacro();\n}\n\nif (!itemToRoll) {\n\treturn ui.notifications.warn(game.i18n.format(\"DND5E.ActionWarningNoItem\", { item: itemId, name: actorToRoll?.name ?? \"[Not Found]\" }));\n}\n\nreturn itemToRoll.roll({ vanilla: false });","folder":null,"sort":0,"flags":{"dnd5e":{"itemMacro":true}},"_id":"3EjXX2rtwW3A0696","ownership":{"default":0,"262dkCGquRjpWpmj":3},"_stats":{"systemId":null,"systemVersion":null,"coreVersion":null,"createdTime":null,"modifiedTime":null,"lastModifiedBy":null}}
{"name":"Invisibilité suprême","type":"script","author":"262dkCGquRjpWpmj","img":"systems/dnd5e/icons/spells/fog-water-air-3.jpg","scope":"global","command":"// HotbarUses5e: ActorID=\"4O6EBccW1DXHjmy8\" ItemID=\"RdOCVeZB0w9xeJTp\"\nconst actorId = \"4O6EBccW1DXHjmy8\";\nconst itemId = \"RdOCVeZB0w9xeJTp\";\nconst actorToRoll = canvas.tokens.placeables.find(t => t.actor?.id === actorId)?.actor ?? game.actors.get(actorId);\nconst itemToRoll = actorToRoll?.items.get(itemId);\n\nif (game.modules.get('itemacro')?.active && itemToRoll?.hasMacro() && game.settings.get('itemacro', 'defaultmacro')) {\n\treturn itemToRoll.executeMacro();\n}\n\nif (!itemToRoll) {\n\treturn ui.notifications.warn(game.i18n.format(\"DND5E.ActionWarningNoItem\", { item: itemId, name: actorToRoll?.name ?? \"[Not Found]\" }));\n}\n\nreturn itemToRoll.roll({ vanilla: false });","folder":null,"sort":0,"flags":{"dnd5e":{"itemMacro":true}},"_id":"5WavOnpVjV2Ph72Y","ownership":{"default":0,"262dkCGquRjpWpmj":3},"_stats":{"systemId":null,"systemVersion":null,"coreVersion":null,"createdTime":null,"modifiedTime":null,"lastModifiedBy":null}}
{"name":"24 - T03 - Poisoned Smoke","type":"script","author":"262dkCGquRjpWpmj","img":"modules/tokenmagic/gui/macros/images/24%20-%20T03%20-%20Poisoned%20Smoke.webp","scope":"global","command":"let params =\n[{\n    filterType: \"field\",\n    filterId: \"mySmokeField\",\n    shieldType: 3,\n    gridPadding: 1,\n    color: 0x60CC70,\n    time: 0,\n    blend: 0,\n    intensity: 0.9,\n    lightAlpha: 1,\n    lightSize: 0.7,\n    scale: 1,\n    radius: 1,\n    chromatic: false,\n    zOrder: 512,\n    animated :\n    {\n      time : \n      { \n        active: true, \n        speed: 0.0015, \n        animType: \"move\" \n      }\n    }\n}];\n\nawait TokenMagic.addUpdateFiltersOnSelected(params);","folder":null,"sort":0,"flags":{"core":{"sourceId":"Compendium.tokenmagic.tmMacros.SSY0fjib0PgJaKEK"}},"_id":"92KENITwMs3tov7B","ownership":{"default":0,"Njc5YzFjZDI5NjZl":3,"262dkCGquRjpWpmj":3},"_stats":{"systemId":null,"systemVersion":null,"coreVersion":null,"createdTime":null,"modifiedTime":null,"lastModifiedBy":null}}
{"name":"Trait de feu","type":"script","author":"262dkCGquRjpWpmj","img":"systems/dnd5e/icons/spells/fireball-red-1.jpg","scope":"global","command":"// HotbarUses5e: ActorID=\"4O6EBccW1DXHjmy8\" ItemID=\"BxgHfIUGYlRJ5kxZ\"\nconst actorId = \"4O6EBccW1DXHjmy8\";\nconst itemId = \"BxgHfIUGYlRJ5kxZ\";\nconst actorToRoll = canvas.tokens.placeables.find(t => t.actor?.id === actorId)?.actor ?? game.actors.get(actorId);\nconst itemToRoll = actorToRoll?.items.get(itemId);\n\nif (game.modules.get('itemacro')?.active && itemToRoll?.hasMacro() && game.settings.get('itemacro', 'defaultmacro')) {\n\treturn itemToRoll.executeMacro();\n}\n\nif (!itemToRoll) {\n\treturn ui.notifications.warn(game.i18n.format(\"DND5E.ActionWarningNoItem\", { item: itemId, name: actorToRoll?.name ?? \"[Not Found]\" }));\n}\n\nreturn itemToRoll.roll({ vanilla: false });","folder":null,"sort":0,"flags":{"dnd5e":{"itemMacro":true}},"_id":"B9yvIQ9M5KNAdHpm","ownership":{"default":0,"262dkCGquRjpWpmj":3},"_stats":{"systemId":null,"systemVersion":null,"coreVersion":null,"createdTime":null,"modifiedTime":null,"lastModifiedBy":null}}
{"name":"Métamorphose suprême","type":"script","author":"262dkCGquRjpWpmj","img":"systems/dnd5e/icons/spells/wind-grasp-magenta-3.jpg","scope":"global","command":"// HotbarUses5e: ActorID=\"4O6EBccW1DXHjmy8\" ItemID=\"QGmIeiHdMtskJqYe\"\nconst actorId = \"4O6EBccW1DXHjmy8\";\nconst itemId = \"QGmIeiHdMtskJqYe\";\nconst actorToRoll = canvas.tokens.placeables.find(t => t.actor?.id === actorId)?.actor ?? game.actors.get(actorId);\nconst itemToRoll = actorToRoll?.items.get(itemId);\n\nif (game.modules.get('itemacro')?.active && itemToRoll?.hasMacro() && game.settings.get('itemacro', 'defaultmacro')) {\n\treturn itemToRoll.executeMacro();\n}\n\nif (!itemToRoll) {\n\treturn ui.notifications.warn(game.i18n.format(\"DND5E.ActionWarningNoItem\", { item: itemId, name: actorToRoll?.name ?? \"[Not Found]\" }));\n}\n\nreturn itemToRoll.roll({ vanilla: false });","folder":null,"sort":0,"flags":{"dnd5e":{"itemMacro":true}},"_id":"BYcuJcoEHw6ifiXI","ownership":{"default":0,"262dkCGquRjpWpmj":3},"_stats":{"systemId":null,"systemVersion":null,"coreVersion":null,"createdTime":null,"modifiedTime":null,"lastModifiedBy":null}}
{"name":"24 - T10 - Evil Aura","type":"script","author":"262dkCGquRjpWpmj","img":"modules/tokenmagic/gui/macros/images/24%20-%20T10%20-%20Evil%20Aura.webp","scope":"global","command":"let params =\n[{\n    filterType: \"field\",\n    filterId: \"myEvilField\",\n    shieldType: 10,\n    gridPadding: 1,\n    color: 0xFF3010,\n    time: 0,\n    blend: 5,\n    intensity: 1,\n    lightAlpha: 4,\n    lightSize: 0.8,\n    scale: 0.5,\n    radius: 1,\n    chromatic: false,\n    zOrder: 512,\n    animated :\n    {\n      time : \n      { \n        active: true, \n        speed: 0.0012, \n        animType: \"move\" \n      },\n      lightSize:        \n      {\n        val1: 0.4, val2: 1.5,\n        animType: \"syncCosOscillation\",\n        loopDuration: 5000\n      }\n    }\n}];\n\nawait TokenMagic.addUpdateFiltersOnSelected(params);","folder":null,"sort":0,"flags":{"core":{"sourceId":"Compendium.tokenmagic.tmMacros.4Ywsytul1no7EwKb"}},"_id":"EvUDi9xK7QyZr7ze","ownership":{"default":0,"Njc5YzFjZDI5NjZl":3,"262dkCGquRjpWpmj":3},"_stats":{"systemId":null,"systemVersion":null,"coreVersion":null,"createdTime":null,"modifiedTime":null,"lastModifiedBy":null}}
{"name":"Barrière de lames","type":"script","author":"262dkCGquRjpWpmj","img":"systems/dnd5e/icons/spells/needles-sky-3.jpg","scope":"global","command":"// HotbarUses5e: ActorID=\"4O6EBccW1DXHjmy8\" ItemID=\"jgUC5iEBX9ehN67H\"\nconst actorId = \"4O6EBccW1DXHjmy8\";\nconst itemId = \"jgUC5iEBX9ehN67H\";\nconst actorToRoll = canvas.tokens.placeables.find(t => t.actor?.id === actorId)?.actor ?? game.actors.get(actorId);\nconst itemToRoll = actorToRoll?.items.get(itemId);\n\nif (game.modules.get('itemacro')?.active && itemToRoll?.hasMacro() && game.settings.get('itemacro', 'defaultmacro')) {\n\treturn itemToRoll.executeMacro();\n}\n\nif (!itemToRoll) {\n\treturn ui.notifications.warn(game.i18n.format(\"DND5E.ActionWarningNoItem\", { item: itemId, name: actorToRoll?.name ?? \"[Not Found]\" }));\n}\n\nreturn itemToRoll.roll({ vanilla: false });","folder":null,"sort":0,"flags":{"dnd5e":{"itemMacro":true}},"_id":"HUr74YvtqrLFF0wj","ownership":{"default":0,"262dkCGquRjpWpmj":3},"_stats":{"systemId":null,"systemVersion":null,"coreVersion":null,"createdTime":null,"modifiedTime":null,"lastModifiedBy":null}}
{"_id":"J38pEFhIq9esneI2","name":"test","type":"chat","author":"262dkCGquRjpWpmj","img":"icons/svg/dice-target.svg","scope":"global","command":"","folder":null,"sort":0,"flags":{},"ownership":{"default":0,"262dkCGquRjpWpmj":3},"_stats":{"systemId":null,"systemVersion":null,"coreVersion":null,"createdTime":null,"modifiedTime":null,"lastModifiedBy":null}}
{"name":"24 - T05 - Mega - Ice Shell (on top)","type":"script","author":"262dkCGquRjpWpmj","img":"modules/tokenmagic/gui/macros/images/24%20-%20T05%20-%20Mega%20-%20Ice%20Shell%20%28on%20top%29.webp","scope":"global","command":"let params =\n[{\n    filterType: \"field\",\n    filterId: \"myEarthFieldTop\",\n    shieldType: 5,\n    gridPadding: 3,\n    color: 0x00DDFF,\n    time: 0,\n    blend: 5,\n    intensity: 1.9,\n    lightAlpha: 0,\n    lightSize: 0,\n    scale: 1,\n    radius: 1,\n    zIndex: 5,\n    discardThreshold: 0.09,\n    alphaDiscard: true,\n    animated :\n    {\n      time : \n      { \n        active: true, \n        speed: 0.0015, \n        animType: \"move\" \n      }\n    }\n},\n    {\n        filterType: \"xglow\",\n        filterId: \"myEarthFieldTopGlow\",\n        auraType: 1,\n        color: 0x5099DD,\n        thickness: 4.5,\n        scale: 1,\n        time: 0,\n        auraIntensity: 0.25,\n        subAuraIntensity: 1,\n        threshold: 0.5,\n        discard: false,\n        zOrder: 3000,\n        animated:\n        {\n            time:\n            {\n                active: true,\n                speed: 0.0018,\n                animType: \"move\"\n            },\n            thickness:\n            {\n                val1: 2, val2: 2.5,\n                animType: \"cosOscillation\",\n                loopDuration: 3000\n            },\n            subAuraIntensity:\n            {\n                val1: 0.45, val2: 0.65,\n                animType: \"cosOscillation\",\n                loopDuration: 6000\n            },\n            auraIntensity:\n            {\n                val1: 0.9, val2: 2.2,\n                animType: \"cosOscillation\",\n                loopDuration: 3000\n            }\n        }\n    }];\n\nTokenMagic.addUpdateFiltersOnSelected(params);","folder":null,"sort":0,"flags":{"core":{"sourceId":"Compendium.tokenmagic.tmMacros.QHFSZ2GTB3gdDijZ"}},"_id":"a1nCVk1D5IgGq3ZA","ownership":{"default":0,"Njc5YzFjZDI5NjZl":3,"262dkCGquRjpWpmj":3},"_stats":{"systemId":null,"systemVersion":null,"coreVersion":null,"createdTime":null,"modifiedTime":null,"lastModifiedBy":null}}
{"name":"24 - T07 - Mage Armor","type":"script","author":"262dkCGquRjpWpmj","img":"modules/tokenmagic/gui/macros/images/24%20-%20T07%20-%20Mage%20Armor.webp","scope":"global","command":"let params =\n[{\n    filterType: \"field\",\n    filterId: \"myMageField\",\n    shieldType: 7,\n    gridPadding: 1.,\n    color: 0xFFFFFF,\n    time: 0,\n    blend: 4,\n    intensity: 0.8,\n    lightAlpha: 1,\n    lightSize: 0.45,\n    scale: 1,\n    radius: 1,\n    chromatic: false,\n    animated :\n    {\n      time : \n      { \n        active: true, \n        speed: 0.0015, \n        animType: \"move\" \n      }\n    }\n}];\n\nawait TokenMagic.addUpdateFiltersOnSelected(params);","folder":null,"sort":0,"flags":{"core":{"sourceId":"Compendium.tokenmagic.tmMacros.6ZIpqLC3agLw2Vgx"}},"_id":"afeWJo83DTs4Y88V","ownership":{"default":0,"Njc5YzFjZDI5NjZl":3,"262dkCGquRjpWpmj":3},"_stats":{"systemId":null,"systemVersion":null,"coreVersion":null,"createdTime":null,"modifiedTime":null,"lastModifiedBy":null}}
{"name":"21 - Flood","type":"script","author":"262dkCGquRjpWpmj","img":"modules/tokenmagic/gui/macros/images/21%20-%20Flood.webp","scope":"global","command":"let params =\n[{\n    filterType: \"flood\",\n    filterId: \"myFlood\",\n    time: 0,\n    color: 0x0020BB,\n    billowy: 0.43,\n    tintIntensity: 0.72,\n    glint: 0.31,\n    scale: 70,\n    padding: 10,\n    animated :\n    {\n      time : \n      { \n        active: true, \n        speed: 0.0006, \n        animType: \"move\"\n      }\n    }\n}];\n\nawait TokenMagic.addUpdateFiltersOnSelected(params);","folder":null,"sort":0,"flags":{"core":{"sourceId":"Compendium.tokenmagic.tmMacros.zCCp4x0EResFji7O"}},"_id":"goW48QEAhgPcOjoV","ownership":{"default":0,"Njc5YzFjZDI5NjZl":3,"262dkCGquRjpWpmj":3},"_stats":{"systemId":null,"systemVersion":null,"coreVersion":null,"createdTime":null,"modifiedTime":null,"lastModifiedBy":null}}
{"name":"03 - Drop Shadow","type":"script","author":"262dkCGquRjpWpmj","img":"modules/tokenmagic/gui/macros/images/03%20-%20Drop%20Shadow.webp","scope":"global","command":"let params =\n[{\n    filterType: \"shadow\",\n    filterId: \"myShadow\",\n    rotation: 35,\n    blur: 2,\n    quality: 5,\n    distance: 20,\n    alpha: 0.7,\n    padding: 10,\n    shadowOnly: false,\n    color: 0x000000,\n    zOrder: 6000,\n    animated:\n    {\n        blur:     \n        { \n           active: true, \n           loopDuration: 500, \n           animType: \"syncCosOscillation\", \n           val1: 2, \n           val2: 4\n        },\n        rotation:\n        {\n           active: true,\n           loopDuration: 100,\n           animType: \"syncSinOscillation\",\n           val1: 33,\n           val2: 37\n        }\n     }\n}];\n\nawait TokenMagic.addUpdateFiltersOnSelected(params);","folder":null,"sort":0,"flags":{"core":{"sourceId":"Compendium.tokenmagic.tmMacros.hayiRem3LXoEP3tL"}},"_id":"iLUZWoVc0vusmmB6","ownership":{"default":0,"Njc5YzFjZDI5NjZl":3,"262dkCGquRjpWpmj":3},"_stats":{"systemId":null,"systemVersion":null,"coreVersion":null,"createdTime":null,"modifiedTime":null,"lastModifiedBy":null}}
{"name":"00 - A - Delete filters on Selected","type":"script","author":"262dkCGquRjpWpmj","img":"modules/tokenmagic/gui/macros/images/00%20-%20A%20-%20Delete%20filters%20on%20Selected.webp","scope":"global","command":"// Delete all filters on the selected tokens/tiles\nawait TokenMagic.deleteFiltersOnSelected();","folder":null,"sort":0,"flags":{"core":{"sourceId":"Compendium.tokenmagic.tmMacros.DCRnfJDBd25fOQxc"}},"_id":"l8kwgS0tu4d0Vp5l","ownership":{"default":0,"Njc5YzFjZDI5NjZl":3,"262dkCGquRjpWpmj":3},"_stats":{"systemId":null,"systemVersion":null,"coreVersion":null,"createdTime":null,"modifiedTime":null,"lastModifiedBy":null}}
{"name":"Cercle de téléportation","type":"script","author":"262dkCGquRjpWpmj","img":"systems/dnd5e/icons/spells/runes-magenta-3.jpg","scope":"global","command":"// HotbarUses5e: ActorID=\"4O6EBccW1DXHjmy8\" ItemID=\"AFem8GkG82xsfM4X\"\nconst actorId = \"4O6EBccW1DXHjmy8\";\nconst itemId = \"AFem8GkG82xsfM4X\";\nconst actorToRoll = canvas.tokens.placeables.find(t => t.actor?.id === actorId)?.actor ?? game.actors.get(actorId);\nconst itemToRoll = actorToRoll?.items.get(itemId);\n\nif (game.modules.get('itemacro')?.active && itemToRoll?.hasMacro() && game.settings.get('itemacro', 'defaultmacro')) {\n\treturn itemToRoll.executeMacro();\n}\n\nif (!itemToRoll) {\n\treturn ui.notifications.warn(game.i18n.format(\"DND5E.ActionWarningNoItem\", { item: itemId, name: actorToRoll?.name ?? \"[Not Found]\" }));\n}\n\nreturn itemToRoll.roll({ vanilla: false });","folder":null,"sort":0,"flags":{"dnd5e":{"itemMacro":true}},"_id":"lmQ9FePArxLVe1SB","ownership":{"default":0,"262dkCGquRjpWpmj":3},"_stats":{"systemId":null,"systemVersion":null,"coreVersion":null,"createdTime":null,"modifiedTime":null,"lastModifiedBy":null}}
{"name":"24 - T01 - Hexa Force Field","type":"script","author":"262dkCGquRjpWpmj","img":"modules/tokenmagic/gui/macros/images/24%20-%20T01%20-%20Hexa%20Force%20Field.webp","scope":"global","command":"let params =\n[{\n    filterType: \"field\",\n    filterId: \"myHexaField\",\n    shieldType: 2,\n    gridPadding: 2,\n    color: 0xCC00CC,\n    time: 0,\n    blend: 3,\n    intensity: 1,\n    lightAlpha: 0.5,\n    lightSize: 0.5,\n    scale: 0.5,\n    radius: 1,\n    chromatic: false,\n    alphaDiscard: true,\n    zOrder: 5000,\n    animated :\n    {\n      time : \n      { \n        active: true, \n        speed: 0.0015, \n        animType: \"move\" \n      }\n    }\n}];\n\nawait TokenMagic.addUpdateFiltersOnSelected(params);","folder":null,"sort":0,"flags":{"core":{"sourceId":"Compendium.tokenmagic.tmMacros.sbP8KX50YRYtxVyB"}},"_id":"nxl3B2kYA6p2XysQ","ownership":{"default":0,"Njc5YzFjZDI5NjZl":3,"262dkCGquRjpWpmj":3},"_stats":{"systemId":null,"systemVersion":null,"coreVersion":null,"createdTime":null,"modifiedTime":null,"lastModifiedBy":null}}
{"name":"25 - T02 - Lucky Clover (xray)","type":"script","author":"262dkCGquRjpWpmj","img":"modules/tokenmagic/gui/macros/images/25%20-%20T02%20-%20Lucky%20Clover%20%28xray%29.webp","scope":"global","command":"let params =\n[{\n    filterType: \"xray\",\n    filterId: \"myLuckyRays\",\n    time: 0,\n    color: 0x00FF00,\n    blend: 9,\n    dimX: 0.05,\n    dimY: 0.05,\n    anchorX: 0.5,\n    anchorY: 0.5,\n    divisor: 4,\n    intensity: 1,\n    animated :\n    {\n       time : \n       { \n          active: true, \n          speed: 0.0012, \n          animType: \"move\" \n       },\n       anchorX:\n       {\n          animType: \"syncCosOscillation\",\n          loopDuration : 6000,\n          val1: 0.40,\n          val2: 0.60\n       },\n       anchorY:\n       {\n          animType: \"syncSinOscillation\",\n          loopDuration : 6000,\n          val1: 0.40,\n          val2: 0.60\n       }\n    }\n}];\n\nawait TokenMagic.addUpdateFiltersOnSelected(params);","folder":null,"sort":0,"flags":{"core":{"sourceId":"Compendium.tokenmagic.tmMacros.YPOoPH63FqcEoVTk"}},"_id":"qGrM8rjA0kx73eOP","ownership":{"default":0,"Njc5YzFjZDI5NjZl":3,"262dkCGquRjpWpmj":3},"_stats":{"systemId":null,"systemVersion":null,"coreVersion":null,"createdTime":null,"modifiedTime":null,"lastModifiedBy":null}}
{"name":"24 - T02 - Fire Shield","type":"script","author":"262dkCGquRjpWpmj","img":"modules/tokenmagic/gui/macros/images/24%20-%20T02%20-%20Fire%20Shield.webp","scope":"global","command":"let params =\n[{\n    filterType: \"field\",\n    filterId: \"myFireField\",\n    shieldType: 1,\n    gridPadding: 2,\n    color: 0xE58550,\n    time: 0,\n    blend: 2,\n    intensity: 1.2,\n    lightAlpha: 1,\n    lightSize: 0.7,\n    scale: 1,\n    radius: 1,\n    chromatic: false,\n    zOrder: 512,\n    animated :\n    {\n      time : \n      { \n        active: true, \n        speed: 0.0015, \n        animType: \"move\" \n      }\n    }\n}];\n\nawait TokenMagic.addUpdateFiltersOnSelected(params);","folder":null,"sort":0,"flags":{"core":{"sourceId":"Compendium.tokenmagic.tmMacros.IA3ofbRDpi3Rjgcy"}},"_id":"s9XfbKn4YXqzPhHK","ownership":{"default":0,"Njc5YzFjZDI5NjZl":3,"262dkCGquRjpWpmj":3},"_stats":{"systemId":null,"systemVersion":null,"coreVersion":null,"createdTime":null,"modifiedTime":null,"lastModifiedBy":null}}
{"name":"Nappe de brouillard","type":"script","author":"262dkCGquRjpWpmj","img":"systems/dnd5e/icons/spells/fog-water-air-2.jpg","scope":"global","command":"// HotbarUses5e: ActorID=\"1tHzu6Eq63umy5hN\" ItemID=\"GTaskNfmdOVMWCep\"\nconst actorId = \"1tHzu6Eq63umy5hN\";\nconst itemId = \"GTaskNfmdOVMWCep\";\nconst actorToRoll = canvas.tokens.placeables.find(t => t.actor?.id === actorId)?.actor ?? game.actors.get(actorId);\nconst itemToRoll = actorToRoll?.items.get(itemId);\n\nif (game.modules.get('itemacro')?.active && itemToRoll?.hasMacro() && game.settings.get('itemacro', 'defaultmacro')) {\n\treturn itemToRoll.executeMacro();\n}\n\nif (!itemToRoll) {\n\treturn ui.notifications.warn(game.i18n.format(\"DND5E.ActionWarningNoItem\", { item: itemId, name: actorToRoll?.name ?? \"[Not Found]\" }));\n}\n\nreturn itemToRoll.roll({ vanilla: false });","folder":null,"sort":0,"flags":{"dnd5e":{"itemMacro":true}},"_id":"wt6hS5CpJkAZ6Hia","ownership":{"default":0,"262dkCGquRjpWpmj":3},"_stats":{"systemId":null,"systemVersion":null,"coreVersion":null,"createdTime":null,"modifiedTime":null,"lastModifiedBy":null}}
{"name":"Bomb Throw","type":"script","author":"262dkCGquRjpWpmj","img":"modules/JB2A_DnD5e/Library/Generic/Weapon_Attacks/Ranged/ThrowBomb01_01_Regular_Black_Thumb.webp","scope":"global","command":"/*\n####################################################\n   This macro needs the Sequencer module to work.\n####################################################\n*/\n\n// Let's create a function with arguments. That means that we can call this function later and define each argument (here they're called dbThrow, dbFracture and dbExplosion);\n// If you look at the end of the macro, we're using each arg to call a specific Database path. (i.e: await grenade('dbPath01', 'dbPath02', 'dbPath03'))\nasync function grenade(dbThrow, dbFracture, dbExplosion, dbGroundImpact){\n    let source = token; // this is the first selected token\n    let targets = Array.from(game.user.targets); // This is an array that will contain all targeted tokens (we need at least one to know where to throw the potion or grenade)\n        for(let target of targets){ // The for loop will iterate for each target, if more than one token is targeted. Otherwise it will run it only once\n        new Sequence()\n        .effect() \n            .file(dbThrow)\n            .atLocation(source)\n            .stretchTo(target)\n            .waitUntilFinished(-150)\n        .effect()\n            .file(dbFracture)\n            .atLocation(target)\n            .scale(0.35) \n        .effect()\n            .file(dbExplosion)\n            .atLocation(target)\n        .effect()\n            .file(dbGroundImpact)\n            .atLocation(target)\n            .belowTokens()\n            .scale(0.4)\n            .scaleIn(0.1, 100, {ease: \"easeOutExpo\"})\n            .duration(5000)\n            .fadeOut(3250, {ease: \"easeInSine\"})    \n        .play();\n        \n        let delay = Sequencer.Helpers.random_int_between(600, 1000) // neat little helper from Sequencer giving us a whole number between two values\n        await Sequencer.Helpers.wait(delay) // another helper that allows us to delay the time between each loop (when we have more than one target)\n        \n        }\n    }\nawait grenade('jb2a.throwable.throw.bomb.01.black','jb2a.explosion.shrapnel.bomb.01.black','jb2a.explosion.08.orange','jb2a.impact.ground_crack.orange');\n\n//If you liked the groundcrack showed in our patreon post, this file isn't part of our module since it is under the Fan-Content License of Forgotten Adventures. But it can be downloaded here : https://www.dropbox.com/s/7z72w0cjznx6yeo/Modified_Blast_Tile_From_ForgottenAdventures.zip?dl=1\n//Replace jb2a.impact.ground_crack.orange in the last line of code by the path where you stored the downloaded files.\n//As an example 'Data/yourFolderName/FireballBlast_01_Orange_800x800.webm'","folder":null,"sort":0,"flags":{"core":{"sourceId":"Macro.nvEzRX1QqW2iReIg"}},"_id":"wx38SSb2opY9UV3D","ownership":{"default":0,"57wlqmR4nbpd6oQC":3,"262dkCGquRjpWpmj":3},"_stats":{"systemId":null,"systemVersion":null,"coreVersion":null,"createdTime":null,"modifiedTime":null,"lastModifiedBy":null}}
